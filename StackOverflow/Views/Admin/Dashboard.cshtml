@{
  ViewData["Title"] = "Admin";
  Layout = "_AdminLayout.cshtml";
}
@using StackOverflow.Models
@model List<StackOverflow.Models.Profile>

<style>

    .card-users {
        background: #0077cc15;
    }

    .card-questions {
        background: #f4802415;
    }

    .card-answers {
        background: #2ecc7115;
    }

    .card-tags {
        background: #9b59b615;
    }
</style>
<!-- Content -->
<div class="col-md-10 p-4">
    <div class="d-flex justify-content-between">
        <h4 class="mb-4">👋 Xin chào, Admin!</h4>
        <div class="d-flex">
            <form method="post" action="/Admin/Export" class="mx-2">
                <button type="submit" class="btn btn-primary">Export CSV</button>
            </form>
            @using (Html.BeginForm("Import", "Admin", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                <input type="file" name="file" accept=".csv,.xlsx,.xls" />
                <button type="submit" class="btn btn-primary">Import CSV</button>
            }
        </div>
    </div>

  
  <!-- Cards -->
  <div class="row g-4 mb-4">
    <div class="col-md-3">
      <div class="card text-center p-3 border-0 shadow-sm card-users">
        <div class="icon text-primary"><i class="bi bi-people"></i></div>
        <h6 class="text-muted">Users</h6>
        <h3 class="text-primary">@ViewBag.CountUsers</h3>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card text-center p-3 border-0 shadow-sm card-questions">
        <div class="icon" style="color:#f48024"><i class="bi bi-question-circle"></i></div>
        <h6 class="text-muted">Questions</h6>
        <h3 style="color:#f48024">@ViewBag.CountQuestions</h3>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card text-center p-3 border-0 shadow-sm card-answers">
        <div class="icon text-success"><i class="bi bi-chat-dots"></i></div>
        <h6 class="text-muted">Answers</h6>
        <h3 class="text-success">@ViewBag.CountAnswers</h3>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card text-center p-3 border-0 shadow-sm card-tags">
        <div class="icon" style="color:#9b59b6"><i class="bi bi-tags"></i></div>
        <h6 class="text-muted">Tags</h6>
        <h3 style="color:#9b59b6">@ViewBag.CountTags</h3>
      </div>
    </div>
  </div>


  <!-- Bảng -->
  <div class="card">
    <div class="card-header bg-white fw-bold"><i class="bi bi-people"></i> Users mới</div>
    <div class="card-body">
      <table class="table align-middle">
        <thead class="table-light">
        <tr>
          <th>Tên</th>
          <th>Ngày sinh</th>
          <th>Giới tinh</th>
          <th></th>
        </tr>
        </thead>
        <tbody>
        @foreach (var i in @Model)
        {
          <tr>
            <td>@i.DisplayName</td>
            <td>@i.Birthday.ToString("dd/MM/yyyy")</td>
            <td>@i.Gender</td>
            <td>
              <button class="btn btn-sm btn-outline-secondary"><i class="bi bi-eye"></i></button>
            </td>
          </tr>
        }
        </tbody>
      </table>
    </div>
  </div>

</div>